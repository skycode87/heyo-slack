{"ast":null,"code":"var _jsxFileName = \"/Users/kometsales/Documents/heyo-slack/src/features/users/containers/UserPortal.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport ManagePortalUserModal from \"../components/ManagePortalUserModal\";\nimport UserPortalHeader from \"../components/userPortalHeader\";\nimport { getUser } from \"../requests\";\nimport showGlobalNotification from \"../../../helpers/showGlobalNotification\";\nimport { setUser } from \"../../../redux/user\";\nimport useModal from \"../../shared/hooks/useModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Users = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const sessionStoreRedux = useSelector(store => store.session);\n  const [subpage, setSubpage] = useState(\"1\");\n  const [selectedUser, setSelectedUser] = useState({});\n  const [userId, setUserId] = useState(null);\n  const [isOpenManageUsersModal, openManageUsersModal, closeManageUsersModal] = useModal();\n  const [initialValues, setInitialValues] = useState({\n    firstname: \"\",\n    lastname: \"\",\n    role: \"USER\",\n    address: \"\",\n    city: \"Medellin\",\n    region: \"Antioquia\",\n    country: \"Colombia\",\n    document: \"\",\n    documentType: \"CEDULA\",\n    observation: \"\",\n    birthdate: \"1990/01/01\",\n    category: \"cliente\",\n    type: \"Normal\",\n    email: \"\",\n    phone: \"\",\n    reference: \"\",\n    active: \"\",\n    startdate: \"1990/01/01\",\n    closuredate: \"1990/01/01\",\n    refererId: null\n  });\n  useEffect(() => {\n    getUser(sessionStoreRedux.currentSession._id, {\n      onSuccess: response => {\n        setSelectedUser(response.user); // setLoaderForm(false);\n      },\n      onError: () => showGlobalNotification(\"error\", \"Error\", \"error\")\n    });\n  }, [sessionStoreRedux.currentSession]);\n  useEffect(() => {\n    setUser(selectedUser)(dispatch);\n  }, [selectedUser]);\n\n  const handleEdit = user => {\n    setSelectedUser(user);\n    setUserId(user._id);\n    openManageUsersModal();\n  };\n\n  const handleEditInvitation = user => {\n    setSelectedUser({});\n    setUserId(false);\n    setInitialValues({ ...initialValues,\n      refererId: user._id\n    });\n    openManageUsersModal();\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(UserPortalHeader, {\n        selectedUser: selectedUser,\n        handleEdit: handleEdit,\n        handleEditInvitation: handleEditInvitation,\n        setSubpage: setSubpage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ManagePortalUserModal, {\n      userId: userId,\n      setUserId: setUserId,\n      closeModal: closeManageUsersModal,\n      openModal: isOpenManageUsersModal,\n      initialValues: initialValues,\n      selectedUser: selectedUser,\n      setSelectedUserMain: setSelectedUser,\n      setUser: setUser,\n      getUser: getUser\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Users, \"5YO0hSQAP0DftUmFhE0jZmKlCdI=\", false, function () {\n  return [useDispatch, useSelector, useModal];\n});\n\n_c = Users;\nexport default Users;\n\nvar _c;\n\n$RefreshReg$(_c, \"Users\");","map":{"version":3,"sources":["/Users/kometsales/Documents/heyo-slack/src/features/users/containers/UserPortal.js"],"names":["useState","useEffect","useDispatch","useSelector","ManagePortalUserModal","UserPortalHeader","getUser","showGlobalNotification","setUser","useModal","Users","dispatch","sessionStoreRedux","store","session","subpage","setSubpage","selectedUser","setSelectedUser","userId","setUserId","isOpenManageUsersModal","openManageUsersModal","closeManageUsersModal","initialValues","setInitialValues","firstname","lastname","role","address","city","region","country","document","documentType","observation","birthdate","category","type","email","phone","reference","active","startdate","closuredate","refererId","currentSession","_id","onSuccess","response","user","onError","handleEdit","handleEditInvitation"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport ManagePortalUserModal from \"../components/ManagePortalUserModal\";\nimport UserPortalHeader from \"../components/userPortalHeader\";\nimport { getUser } from \"../requests\";\nimport showGlobalNotification from \"../../../helpers/showGlobalNotification\";\n\nimport { setUser } from \"../../../redux/user\";\nimport useModal from \"../../shared/hooks/useModal\";\n\nconst Users = () => {\n  const dispatch = useDispatch();\n  const sessionStoreRedux = useSelector((store) => store.session);\n  const [subpage, setSubpage] = useState(\"1\");\n  const [selectedUser, setSelectedUser] = useState({});\n\n  const [userId, setUserId] = useState(null);\n  const [isOpenManageUsersModal, openManageUsersModal, closeManageUsersModal] = useModal();\n\n  const [initialValues, setInitialValues] = useState({\n    firstname: \"\",\n    lastname: \"\",\n    role: \"USER\",\n    address: \"\",\n    city: \"Medellin\",\n    region: \"Antioquia\",\n    country: \"Colombia\",\n    document: \"\",\n    documentType: \"CEDULA\",\n    observation: \"\",\n    birthdate: \"1990/01/01\",\n    category: \"cliente\",\n    type: \"Normal\",\n    email: \"\",\n    phone: \"\",\n    reference: \"\",\n    active: \"\",\n    startdate: \"1990/01/01\",\n    closuredate: \"1990/01/01\",\n    refererId: null,\n  });\n\n  useEffect(() => {\n    getUser(sessionStoreRedux.currentSession._id, {\n      onSuccess: (response) => {\n        setSelectedUser(response.user);\n        // setLoaderForm(false);\n      },\n      onError: () => showGlobalNotification(\"error\", \"Error\", \"error\"),\n    });\n  }, [sessionStoreRedux.currentSession]);\n\n  useEffect(() => {\n    setUser(selectedUser)(dispatch);\n  }, [selectedUser]);\n\n  const handleEdit = (user) => {\n    setSelectedUser(user);\n    setUserId(user._id);\n    openManageUsersModal();\n  };\n\n  const handleEditInvitation = (user) => {\n    setSelectedUser({});\n    setUserId(false);\n    setInitialValues({ ...initialValues, refererId: user._id });\n    openManageUsersModal();\n  };\n\n  return (\n    <>\n      <div>\n        <UserPortalHeader\n          selectedUser={selectedUser}\n          handleEdit={handleEdit}\n          handleEditInvitation={handleEditInvitation}\n          setSubpage={setSubpage}\n        />\n      </div>\n      <ManagePortalUserModal\n        userId={userId}\n        setUserId={setUserId}\n        closeModal={closeManageUsersModal}\n        openModal={isOpenManageUsersModal}\n        initialValues={initialValues}\n        selectedUser={selectedUser}\n        setSelectedUserMain={setSelectedUser}\n        setUser={setUser}\n        getUser={getUser}\n      />\n    </>\n  );\n};\n\nexport default Users;\n"]},"metadata":{},"sourceType":"module"}