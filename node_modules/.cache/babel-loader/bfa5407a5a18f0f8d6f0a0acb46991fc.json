{"ast":null,"code":"var _jsxFileName = \"/Users/kometsales/Documents/heyo-slack/src/features/profile/components/ManageProfileForm.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport debounce from \"lodash/debounce\";\nimport { confirmAlert } from \"react-confirm-alert\";\nimport { Form, Row, Col, Input, Spin, Button } from \"antd\";\nimport { saveProfile, getProfile } from \"../requests\";\nimport showGlobalNotification from \"../../../helpers/showGlobalNotification\";\nimport { setProfileRedux } from \"../../../redux/profile\";\nimport { setSessionRedux } from \"../../../redux/session\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst defaultValues = {\n  name: \"\",\n  email: \"\",\n  phone: \"\",\n  facebook: \"\",\n  instagram: \"\",\n  youtube: \"\",\n  active: true,\n  color: \"\",\n  cover: \"\",\n  background: \"\"\n};\n\nconst ManageProfileForm = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const {\n    t,\n    i18n\n  } = useTranslation();\n  const sessionStoreRedux = useSelector(store => store.session);\n  const [selectedProfile, setSelectedProfile] = useState(defaultValues);\n  const [form] = Form.useForm();\n  const [loaderForm, setLoaderForm] = useState(false);\n  useEffect(() => {\n    setLoaderForm(true);\n    getProfile(true, {\n      onSuccess: response => {\n        setProfileRedux(response.result)(dispatch);\n        setSelectedProfile({ ...response.result\n        });\n        setLoaderForm(false);\n      },\n      onError: () => showGlobalNotification(\"error\", t(\"errorTitle\"), t(\"errorDescription\"))\n    });\n  }, []);\n  useEffect(() => {\n    form.setFieldsValue(selectedProfile);\n  }, [form, selectedProfile]);\n\n  const onFinish = values => {\n    const data = { ...selectedProfile,\n      ...values\n    };\n    saveProfile({ ...data,\n      rootId: sessionStoreRedux.currentSession_id\n    }, {\n      onSuccess: response => {\n        setProfileRedux(response.result)(dispatch);\n        setSessionRedux(response.result)(dispatch);\n        showGlobalNotification(\"success\", t(\"inHorabuena\"), t(\"successfulProcess\"));\n      },\n      onError: () => showGlobalNotification(\"error\", t(\"errorTitle\"), t(\"errorDescription\")),\n      onFinally: () => {}\n    });\n  };\n\n  const handleFinishConfirm = values => {\n    confirmAlert({\n      title: t(\"update\"),\n      message: `Esta seguro que desea continuar ?`,\n      buttons: [{\n        label: t(\"yes\"),\n        onClick: () => onFinish(values)\n      }, {\n        label: t(\"no\"),\n        onClick: () => {}\n      }]\n    });\n  };\n\n  const onValuesChange = debounce(values => {\n    setSelectedProfile({ ...selectedProfile,\n      ...values\n    });\n  }, 500);\n\n  const handleSubmit = () => {\n    form.validateFields().then(() => {\n      form.submit();\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Form, {\n    form: form,\n    name: \"manage-category-form-modal\",\n    initialValues: defaultValues,\n    className: \"manage-modal\",\n    onFinish: handleFinishConfirm,\n    labelCol: {\n      span: 24\n    },\n    onValuesChange: onValuesChange,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"layout-form-modal entity-200 entity-small\",\n      children: loaderForm ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(Spin, {\n          tip: t(\"loading\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, this)\n      }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          gutter: 15,\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            span: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"firstname\",\n              tooltip: \"Firstname here pleaseio\",\n              label: t(\"firstname\"),\n              children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"lastname\",\n              tooltip: \"Firstname here pleaseio\",\n              label: t(\"lastname\"),\n              children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"email\",\n              tooltip: \"Firstname here pleaseio\",\n              label: t(\"email\"),\n              children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"phone\",\n              tooltip: \"phone here please\",\n              label: t(\"phone\"),\n              children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          gutter: 16,\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            span: 16,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"avatar\",\n              label: t(\"avatar\"),\n              children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 4,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"login\",\n              tooltip: \"phone here please\",\n              label: t(\"login\"),\n              children: /*#__PURE__*/_jsxDEV(Input, {\n                disabled: \"true\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 4,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"date\",\n              tooltip: \"phone here please\",\n              label: t(\"date\"),\n              children: /*#__PURE__*/_jsxDEV(Input, {\n                disabled: \"true\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            span: 24,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                style: {\n                  float: \"right\"\n                },\n                type: \"primary\",\n                onClick: handleSubmit,\n                children: t(\"update\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ManageProfileForm, \"+S177/dd1y1HfNOKdbnp948fNrM=\", false, function () {\n  return [useDispatch, useTranslation, useSelector, Form.useForm];\n});\n\n_c = ManageProfileForm;\nManageProfileForm.defaultProps = {\n  setProfileId: () => {}\n};\nexport default ManageProfileForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"ManageProfileForm\");","map":{"version":3,"sources":["/Users/kometsales/Documents/heyo-slack/src/features/profile/components/ManageProfileForm.js"],"names":["useState","useEffect","useTranslation","useSelector","useDispatch","debounce","confirmAlert","Form","Row","Col","Input","Spin","Button","saveProfile","getProfile","showGlobalNotification","setProfileRedux","setSessionRedux","defaultValues","name","email","phone","facebook","instagram","youtube","active","color","cover","background","ManageProfileForm","dispatch","t","i18n","sessionStoreRedux","store","session","selectedProfile","setSelectedProfile","form","useForm","loaderForm","setLoaderForm","onSuccess","response","result","onError","setFieldsValue","onFinish","values","data","rootId","currentSession_id","onFinally","handleFinishConfirm","title","message","buttons","label","onClick","onValuesChange","handleSubmit","validateFields","then","submit","span","float","defaultProps","setProfileId"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { useSelector, useDispatch } from \"react-redux\";\nimport debounce from \"lodash/debounce\";\nimport { confirmAlert } from \"react-confirm-alert\";\n\nimport { Form, Row, Col, Input, Spin, Button } from \"antd\";\nimport { saveProfile, getProfile } from \"../requests\";\nimport showGlobalNotification from \"../../../helpers/showGlobalNotification\";\nimport { setProfileRedux } from \"../../../redux/profile\";\nimport { setSessionRedux } from \"../../../redux/session\";\n\nconst defaultValues = {\n  name: \"\",\n  email: \"\",\n  phone: \"\",\n  facebook: \"\",\n  instagram: \"\",\n  youtube: \"\",\n  active: true,\n  color: \"\",\n  cover: \"\",\n  background: \"\",\n};\n\nconst ManageProfileForm = () => {\n  const dispatch = useDispatch();\n  const { t, i18n } = useTranslation();\n\n  const sessionStoreRedux = useSelector((store) => store.session);\n\n  const [selectedProfile, setSelectedProfile] = useState(defaultValues);\n  const [form] = Form.useForm();\n  const [loaderForm, setLoaderForm] = useState(false);\n\n  useEffect(() => {\n    setLoaderForm(true);\n    getProfile(true, {\n      onSuccess: (response) => {\n        setProfileRedux(response.result)(dispatch);\n        setSelectedProfile({\n          ...response.result,\n        });\n        setLoaderForm(false);\n      },\n      onError: () => showGlobalNotification(\"error\", t(\"errorTitle\"), t(\"errorDescription\")),\n    });\n  }, []);\n\n  useEffect(() => {\n    form.setFieldsValue(selectedProfile);\n  }, [form, selectedProfile]);\n\n  const onFinish = (values) => {\n    const data = { ...selectedProfile, ...values };\n\n    saveProfile(\n      {\n        ...data,\n        rootId: sessionStoreRedux.currentSession_id,\n      },\n      {\n        onSuccess: (response) => {\n          setProfileRedux(response.result)(dispatch);\n          setSessionRedux(response.result)(dispatch);\n\n          showGlobalNotification(\"success\", t(\"inHorabuena\"), t(\"successfulProcess\"));\n        },\n        onError: () => showGlobalNotification(\"error\", t(\"errorTitle\"), t(\"errorDescription\")),\n        onFinally: () => {},\n      }\n    );\n  };\n\n  const handleFinishConfirm = (values) => {\n    confirmAlert({\n      title: t(\"update\"),\n      message: `Esta seguro que desea continuar ?`,\n      buttons: [\n        {\n          label: t(\"yes\"),\n          onClick: () => onFinish(values),\n        },\n        {\n          label: t(\"no\"),\n          onClick: () => {},\n        },\n      ],\n    });\n  };\n\n  const onValuesChange = debounce((values) => {\n    setSelectedProfile({ ...selectedProfile, ...values });\n  }, 500);\n\n  const handleSubmit = () => {\n    form.validateFields().then(() => {\n      form.submit();\n    });\n  };\n\n  return (\n    <Form\n      form={form}\n      name=\"manage-category-form-modal\"\n      initialValues={defaultValues}\n      className=\"manage-modal\"\n      onFinish={handleFinishConfirm}\n      labelCol={{ span: 24 }}\n      onValuesChange={onValuesChange}\n    >\n      <div className=\"layout-form-modal entity-200 entity-small\">\n        {loaderForm ? (\n          <>\n            <Spin tip={t(\"loading\")} />\n          </>\n        ) : (\n          <>\n            <Row gutter={15}>\n              <Col span={6}>\n                <Form.Item name=\"firstname\" tooltip=\"Firstname here pleaseio\" label={t(\"firstname\")}>\n                  <Input />\n                </Form.Item>\n              </Col>\n              <Col span={6}>\n                <Form.Item name=\"lastname\" tooltip=\"Firstname here pleaseio\" label={t(\"lastname\")}>\n                  <Input />\n                </Form.Item>\n              </Col>\n              <Col span={6}>\n                <Form.Item name=\"email\" tooltip=\"Firstname here pleaseio\" label={t(\"email\")}>\n                  <Input />\n                </Form.Item>\n              </Col>\n              <Col span={6}>\n                <Form.Item name=\"phone\" tooltip=\"phone here please\" label={t(\"phone\")}>\n                  <Input />\n                </Form.Item>\n              </Col>\n            </Row>\n            <Row gutter={16}>\n              <Col span={16}>\n                <Form.Item name=\"avatar\" label={t(\"avatar\")}>\n                  <Input />\n                </Form.Item>\n              </Col>\n              <Col span={4}>\n                <Form.Item name=\"login\" tooltip=\"phone here please\" label={t(\"login\")}>\n                  <Input disabled=\"true\" />\n                </Form.Item>\n              </Col>\n              <Col span={4}>\n                <Form.Item name=\"date\" tooltip=\"phone here please\" label={t(\"date\")}>\n                  <Input disabled=\"true\" />\n                </Form.Item>\n              </Col>\n            </Row>\n            <Row>\n              <Col span={24}>\n                <Form.Item>\n                  <Button style={{ float: \"right\" }} type=\"primary\" onClick={handleSubmit}>\n                    {t(\"update\")}\n                  </Button>\n                </Form.Item>\n              </Col>\n            </Row>\n          </>\n        )}\n      </div>\n    </Form>\n  );\n};\n\nManageProfileForm.defaultProps = {\n  setProfileId: () => {},\n};\n\nexport default ManageProfileForm;\n"]},"metadata":{},"sourceType":"module"}