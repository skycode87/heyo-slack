{"ast":null,"code":"var _jsxFileName = \"/Users/kometsales/Documents/heyo-slack/src/features/plans/components/CalendarPlan.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport moment from \"moment\";\nimport { messages } from \"../../../helpers/calendar-messages-es\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport \"moment/locale/es\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst localizer = momentLocalizer(moment);\nmoment.locale(\"es\");\n\nconst CalendarEvent = ({\n  event\n}) => {\n  const {\n    name\n  } = event;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [name, \"...=) \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 10\n  }, this);\n};\n\n_c = CalendarEvent;\n\nconst MyCalendar = ({\n  calendar,\n  setCalendar,\n  eventos,\n  setSelectedPlan\n}) => {\n  _s();\n\n  const [lastView, setLastView] = useState(localStorage.getItem(\"lastView\") || \"month\");\n  const [eventsList, setEventsList] = useState([]);\n\n  const eventStyleGetter = (event, start, end, isSelected) => {\n    const style = {\n      backgroundColor: event.color || \"#4FB601\",\n      opacity: 0.8,\n      color: \"#FFFFFF\",\n      display: \"block\"\n    };\n    return {\n      style\n    };\n  };\n\n  useEffect(() => {\n    if (eventos.length > 0) {\n      setEventsList(eventos.map(item => ({\n        _id: item._id,\n        name: item.name,\n        minLimit: 1,\n        maxLimit: 10,\n        start: moment(item.startdate).toDate(),\n        end: moment(item.closuredate).toDate(),\n        color: item.color\n      })));\n    }\n  }, [eventos]);\n\n  const onDoubleClickEvent = e => {\n    setSelectedPlan(e);\n  };\n\n  const onSelectEvent = e => {\n    console.log(e); // console.log(\"click1\");\n  };\n\n  const onSelectSlot = e => {\n    setCalendar(e);\n  };\n\n  const onViewChange = e => {\n    localStorage.setItem(\"lastView\", e);\n    setLastView(e);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"calendar-screen\",\n    children: /*#__PURE__*/_jsxDEV(Calendar, {\n      localizer: localizer,\n      events: eventsList,\n      startAccessor: \"start\",\n      endAccessor: \"end\",\n      messages: messages,\n      eventPropGetter: eventStyleGetter,\n      components: {\n        event: CalendarEvent\n      },\n      onDoubleClickEvent: onDoubleClickEvent,\n      onSelectEvent: onSelectEvent,\n      onView: onViewChange,\n      view: lastView,\n      selectable: \"true\",\n      onSelectSlot: onSelectSlot\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MyCalendar, \"ceohQSHkvVE5bLCwU3sdV3bAzd4=\");\n\n_c2 = MyCalendar;\nexport default MyCalendar;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"CalendarEvent\");\n$RefreshReg$(_c2, \"MyCalendar\");","map":{"version":3,"sources":["/Users/kometsales/Documents/heyo-slack/src/features/plans/components/CalendarPlan.js"],"names":["useState","useEffect","Calendar","momentLocalizer","moment","messages","localizer","locale","CalendarEvent","event","name","MyCalendar","calendar","setCalendar","eventos","setSelectedPlan","lastView","setLastView","localStorage","getItem","eventsList","setEventsList","eventStyleGetter","start","end","isSelected","style","backgroundColor","color","opacity","display","length","map","item","_id","minLimit","maxLimit","startdate","toDate","closuredate","onDoubleClickEvent","e","onSelectEvent","console","log","onSelectSlot","onViewChange","setItem"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport moment from \"moment\";\nimport { messages } from \"../../../helpers/calendar-messages-es\";\n\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\n\nimport \"moment/locale/es\";\n\nconst localizer = momentLocalizer(moment);\nmoment.locale(\"es\");\n\nconst CalendarEvent = ({ event }) => {\n  const { name } = event;\n  return <div>{name}...=) </div>;\n};\n\nconst MyCalendar = ({ calendar, setCalendar, eventos, setSelectedPlan }) => {\n  const [lastView, setLastView] = useState(localStorage.getItem(\"lastView\") || \"month\");\n\n  const [eventsList, setEventsList] = useState([]);\n\n  const eventStyleGetter = (event, start, end, isSelected) => {\n    const style = {\n      backgroundColor: event.color || \"#4FB601\",\n      opacity: 0.8,\n      color: \"#FFFFFF\",\n      display: \"block\",\n    };\n\n    return {\n      style,\n    };\n  };\n\n  useEffect(() => {\n    if (eventos.length > 0) {\n      setEventsList(\n        eventos.map((item) => ({\n          _id: item._id,\n          name: item.name,\n          minLimit: 1,\n          maxLimit: 10,\n          start: moment(item.startdate).toDate(),\n          end: moment(item.closuredate).toDate(),\n          color: item.color,\n        }))\n      );\n    }\n  }, [eventos]);\n\n  const onDoubleClickEvent = (e) => {\n    setSelectedPlan(e);\n  };\n\n  const onSelectEvent = (e) => {\n    console.log(e);\n    // console.log(\"click1\");\n  };\n\n  const onSelectSlot = (e) => {\n    setCalendar(e);\n  };\n\n  const onViewChange = (e) => {\n    localStorage.setItem(\"lastView\", e);\n    setLastView(e);\n  };\n\n  return (\n    <div className=\"calendar-screen\">\n      <Calendar\n        localizer={localizer}\n        events={eventsList}\n        startAccessor=\"start\"\n        endAccessor=\"end\"\n        messages={messages}\n        eventPropGetter={eventStyleGetter}\n        components={{ event: CalendarEvent }}\n        onDoubleClickEvent={onDoubleClickEvent}\n        onSelectEvent={onSelectEvent}\n        onView={onViewChange}\n        view={lastView}\n        selectable=\"true\"\n        onSelectSlot={onSelectSlot}\n      />\n    </div>\n  );\n};\n\nexport default MyCalendar;\n"]},"metadata":{},"sourceType":"module"}