{"ast":null,"code":"var _jsxFileName = \"/Users/kometsales/Documents/heyo-slack/src/features/instance/components/ManageInstanceForm.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport debounce from \"lodash/debounce\";\nimport { confirmAlert } from \"react-confirm-alert\";\nimport { Form, Row, Col, Input, Spin, Button } from \"antd\";\nimport { saveInstance, getInstance } from \"../requests\";\nimport showGlobalNotification from \"../../../helpers/showGlobalNotification\";\nimport { setInstanceRedux } from \"../../../redux/instance\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst defaultValues = {\n  name: \"\",\n  email: \"\",\n  phone: \"\",\n  facebook: \"\",\n  instagram: \"\",\n  youtube: \"\",\n  active: true,\n  color: \"\",\n  cover: \"\",\n  background: \"\"\n};\n\nconst ManageInstanceForm = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const {\n    t,\n    i18n\n  } = useTranslation();\n  const sessionStoreRedux = useSelector(store => store.session);\n  const [selectedInstance, setSelectedInstance] = useState(defaultValues);\n  const [form] = Form.useForm();\n  const [loaderForm, setLoaderForm] = useState(false);\n  useEffect(() => {\n    setLoaderForm(true);\n    getInstance(true, {\n      onSuccess: response => {\n        setInstanceRedux(response.result)(dispatch);\n        setSelectedInstance({ ...response.result\n        });\n        setLoaderForm(false);\n      },\n      onError: () => showGlobalNotification(\"error\", t(\"errorTitle\"), t(\"errorDescription\"))\n    });\n  }, []);\n  useEffect(() => {\n    form.setFieldsValue(selectedInstance);\n  }, [form, selectedInstance]);\n\n  const onFinish = values => {\n    const data = { ...selectedInstance,\n      ...values\n    };\n    saveInstance({ ...data,\n      rootId: sessionStoreRedux.currentSession_id\n    }, {\n      onSuccess: response => {\n        setInstanceRedux(response.result)(dispatch);\n        showGlobalNotification(\"success\", t(\"inHorabuena\"), t(\"successfulProcess\"));\n      },\n      onError: () => showGlobalNotification(\"error\", t(\"errorTitle\"), t(\"errorDescription\")),\n      onFinally: () => {}\n    });\n  };\n\n  const handleFinishConfirm = values => {\n    confirmAlert({\n      title: t(\"update\"),\n      message: `Esta seguro que desea continuar ?`,\n      buttons: [{\n        label: t(\"yes\"),\n        onClick: () => onFinish(values)\n      }, {\n        label: t(\"no\"),\n        onClick: () => {}\n      }]\n    });\n  };\n\n  const onValuesChange = debounce(values => {\n    setSelectedInstance({ ...selectedInstance,\n      ...values\n    });\n  }, 500);\n\n  const handleSubmit = () => {\n    form.validateFields().then(() => {\n      form.submit();\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Form, {\n    form: form,\n    name: \"manage-category-form-modal\",\n    initialValues: defaultValues,\n    className: \"manage-modal\",\n    onFinish: handleFinishConfirm,\n    labelCol: {\n      span: 24\n    },\n    onValuesChange: onValuesChange,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"layout-form-modal entity-550 entity-small\",\n      children: loaderForm ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(Spin, {\n          tip: t(\"loading\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this)\n      }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          gutter: 15,\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            span: 8,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"name\",\n              tooltip: \"Firstname here pleaseio\",\n              label: t(\"name\"),\n              rules: [{\n                required: true,\n                message: `Por favor ingrese el nombre`\n              }],\n              children: /*#__PURE__*/_jsxDEV(Input, {\n                placeholder: \"\",\n                value: selectedInstance === null || selectedInstance === void 0 ? void 0 : selectedInstance.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 16,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"background\",\n              label: t(\"background\"),\n              rules: [{\n                required: true,\n                message: `Por favor ingrese el background`\n              }],\n              children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          gutter: 16,\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            span: 8,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"facebook\",\n              label: t(\"facebook\"),\n              children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 8,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"instagram\",\n              label: t(\"instagram\"),\n              children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 8,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"youtube\",\n              label: t(\"youtube\"),\n              children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          gutter: 16,\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            span: 8,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"website\",\n              label: t(\"website\"),\n              children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 8,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"email\",\n              label: t(\"email\"),\n              children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 8,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"phone\",\n              label: t(\"phone\"),\n              children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          gutter: 16,\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            span: 24,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"logo\",\n              label: t(\"logo\"),\n              children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            span: 24,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                style: {\n                  float: \"right\"\n                },\n                type: \"primary\",\n                onClick: handleSubmit,\n                children: t(\"update\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ManageInstanceForm, \"V5pFAacTuytwfWB5TI8IgZQPI9Q=\", false, function () {\n  return [useDispatch, useTranslation, useSelector, Form.useForm];\n});\n\n_c = ManageInstanceForm;\nManageInstanceForm.defaultProps = {\n  setInstanceId: () => {}\n};\nexport default ManageInstanceForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"ManageInstanceForm\");","map":{"version":3,"sources":["/Users/kometsales/Documents/heyo-slack/src/features/instance/components/ManageInstanceForm.js"],"names":["useState","useEffect","useTranslation","useSelector","useDispatch","debounce","confirmAlert","Form","Row","Col","Input","Spin","Button","saveInstance","getInstance","showGlobalNotification","setInstanceRedux","defaultValues","name","email","phone","facebook","instagram","youtube","active","color","cover","background","ManageInstanceForm","dispatch","t","i18n","sessionStoreRedux","store","session","selectedInstance","setSelectedInstance","form","useForm","loaderForm","setLoaderForm","onSuccess","response","result","onError","setFieldsValue","onFinish","values","data","rootId","currentSession_id","onFinally","handleFinishConfirm","title","message","buttons","label","onClick","onValuesChange","handleSubmit","validateFields","then","submit","span","required","float","defaultProps","setInstanceId"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,cAAT,QAA+B,eAA/B;AAEA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,QAAP,MAAqB,iBAArB;AACA,SAASC,YAAT,QAA6B,qBAA7B;AAEA,SAASC,IAAT,EAAeC,GAAf,EAAoBC,GAApB,EAAyBC,KAAzB,EAAgCC,IAAhC,EAAsCC,MAAtC,QAAoD,MAApD;AACA,SAASC,YAAT,EAAuBC,WAAvB,QAA0C,aAA1C;AACA,OAAOC,sBAAP,MAAmC,yCAAnC;AACA,SAASC,gBAAT,QAAiC,yBAAjC;;;AAEA,MAAMC,aAAa,GAAG;AACpBC,EAAAA,IAAI,EAAE,EADc;AAEpBC,EAAAA,KAAK,EAAE,EAFa;AAGpBC,EAAAA,KAAK,EAAE,EAHa;AAIpBC,EAAAA,QAAQ,EAAE,EAJU;AAKpBC,EAAAA,SAAS,EAAE,EALS;AAMpBC,EAAAA,OAAO,EAAE,EANW;AAOpBC,EAAAA,MAAM,EAAE,IAPY;AAQpBC,EAAAA,KAAK,EAAE,EARa;AASpBC,EAAAA,KAAK,EAAE,EATa;AAUpBC,EAAAA,UAAU,EAAE;AAVQ,CAAtB;;AAaA,MAAMC,kBAAkB,GAAG,MAAM;AAAA;;AAC/B,QAAMC,QAAQ,GAAGzB,WAAW,EAA5B;AACA,QAAM;AAAE0B,IAAAA,CAAF;AAAKC,IAAAA;AAAL,MAAc7B,cAAc,EAAlC;AAEA,QAAM8B,iBAAiB,GAAG7B,WAAW,CAAE8B,KAAD,IAAWA,KAAK,CAACC,OAAlB,CAArC;AAEA,QAAM,CAACC,gBAAD,EAAmBC,mBAAnB,IAA0CpC,QAAQ,CAACiB,aAAD,CAAxD;AACA,QAAM,CAACoB,IAAD,IAAS9B,IAAI,CAAC+B,OAAL,EAAf;AACA,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BxC,QAAQ,CAAC,KAAD,CAA5C;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACduC,IAAAA,aAAa,CAAC,IAAD,CAAb;AACA1B,IAAAA,WAAW,CAAC,IAAD,EAAO;AAChB2B,MAAAA,SAAS,EAAGC,QAAD,IAAc;AACvB1B,QAAAA,gBAAgB,CAAC0B,QAAQ,CAACC,MAAV,CAAhB,CAAkCd,QAAlC;AACAO,QAAAA,mBAAmB,CAAC,EAClB,GAAGM,QAAQ,CAACC;AADM,SAAD,CAAnB;AAGAH,QAAAA,aAAa,CAAC,KAAD,CAAb;AACD,OAPe;AAQhBI,MAAAA,OAAO,EAAE,MAAM7B,sBAAsB,CAAC,OAAD,EAAUe,CAAC,CAAC,YAAD,CAAX,EAA2BA,CAAC,CAAC,kBAAD,CAA5B;AARrB,KAAP,CAAX;AAUD,GAZQ,EAYN,EAZM,CAAT;AAcA7B,EAAAA,SAAS,CAAC,MAAM;AACdoC,IAAAA,IAAI,CAACQ,cAAL,CAAoBV,gBAApB;AACD,GAFQ,EAEN,CAACE,IAAD,EAAOF,gBAAP,CAFM,CAAT;;AAIA,QAAMW,QAAQ,GAAIC,MAAD,IAAY;AAC3B,UAAMC,IAAI,GAAG,EAAE,GAAGb,gBAAL;AAAuB,SAAGY;AAA1B,KAAb;AAEAlC,IAAAA,YAAY,CACV,EACE,GAAGmC,IADL;AAEEC,MAAAA,MAAM,EAAEjB,iBAAiB,CAACkB;AAF5B,KADU,EAKV;AACET,MAAAA,SAAS,EAAGC,QAAD,IAAc;AACvB1B,QAAAA,gBAAgB,CAAC0B,QAAQ,CAACC,MAAV,CAAhB,CAAkCd,QAAlC;AACAd,QAAAA,sBAAsB,CAAC,SAAD,EAAYe,CAAC,CAAC,aAAD,CAAb,EAA8BA,CAAC,CAAC,mBAAD,CAA/B,CAAtB;AACD,OAJH;AAKEc,MAAAA,OAAO,EAAE,MAAM7B,sBAAsB,CAAC,OAAD,EAAUe,CAAC,CAAC,YAAD,CAAX,EAA2BA,CAAC,CAAC,kBAAD,CAA5B,CALvC;AAMEqB,MAAAA,SAAS,EAAE,MAAM,CAAE;AANrB,KALU,CAAZ;AAcD,GAjBD;;AAmBA,QAAMC,mBAAmB,GAAIL,MAAD,IAAY;AACtCzC,IAAAA,YAAY,CAAC;AACX+C,MAAAA,KAAK,EAAEvB,CAAC,CAAC,QAAD,CADG;AAEXwB,MAAAA,OAAO,EAAG,mCAFC;AAGXC,MAAAA,OAAO,EAAE,CACP;AACEC,QAAAA,KAAK,EAAE1B,CAAC,CAAC,KAAD,CADV;AAEE2B,QAAAA,OAAO,EAAE,MAAMX,QAAQ,CAACC,MAAD;AAFzB,OADO,EAKP;AACES,QAAAA,KAAK,EAAE1B,CAAC,CAAC,IAAD,CADV;AAEE2B,QAAAA,OAAO,EAAE,MAAM,CAAE;AAFnB,OALO;AAHE,KAAD,CAAZ;AAcD,GAfD;;AAiBA,QAAMC,cAAc,GAAGrD,QAAQ,CAAE0C,MAAD,IAAY;AAC1CX,IAAAA,mBAAmB,CAAC,EAAE,GAAGD,gBAAL;AAAuB,SAAGY;AAA1B,KAAD,CAAnB;AACD,GAF8B,EAE5B,GAF4B,CAA/B;;AAIA,QAAMY,YAAY,GAAG,MAAM;AACzBtB,IAAAA,IAAI,CAACuB,cAAL,GAAsBC,IAAtB,CAA2B,MAAM;AAC/BxB,MAAAA,IAAI,CAACyB,MAAL;AACD,KAFD;AAGD,GAJD;;AAMA,sBACE,QAAC,IAAD;AACE,IAAA,IAAI,EAAEzB,IADR;AAEE,IAAA,IAAI,EAAC,4BAFP;AAGE,IAAA,aAAa,EAAEpB,aAHjB;AAIE,IAAA,SAAS,EAAC,cAJZ;AAKE,IAAA,QAAQ,EAAEmC,mBALZ;AAME,IAAA,QAAQ,EAAE;AAAEW,MAAAA,IAAI,EAAE;AAAR,KANZ;AAOE,IAAA,cAAc,EAAEL,cAPlB;AAAA,2BASE;AAAK,MAAA,SAAS,EAAC,2CAAf;AAAA,gBACGnB,UAAU,gBACT;AAAA,+BACE,QAAC,IAAD;AAAM,UAAA,GAAG,EAAET,CAAC,CAAC,SAAD;AAAZ;AAAA;AAAA;AAAA;AAAA;AADF,uBADS,gBAKT;AAAA,gCACE,QAAC,GAAD;AAAK,UAAA,MAAM,EAAE,EAAb;AAAA,kCACE,QAAC,GAAD;AAAK,YAAA,IAAI,EAAE,CAAX;AAAA,mCACE,QAAC,IAAD,CAAM,IAAN;AACE,cAAA,IAAI,EAAC,MADP;AAEE,cAAA,OAAO,EAAC,yBAFV;AAGE,cAAA,KAAK,EAAEA,CAAC,CAAC,MAAD,CAHV;AAIE,cAAA,KAAK,EAAE,CACL;AACEkC,gBAAAA,QAAQ,EAAE,IADZ;AAEEV,gBAAAA,OAAO,EAAG;AAFZ,eADK,CAJT;AAAA,qCAWE,QAAC,KAAD;AAAO,gBAAA,WAAW,EAAC,EAAnB;AAAsB,gBAAA,KAAK,EAAEnB,gBAAF,aAAEA,gBAAF,uBAAEA,gBAAgB,CAAEjB;AAA/C;AAAA;AAAA;AAAA;AAAA;AAXF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAiBE,QAAC,GAAD;AAAK,YAAA,IAAI,EAAE,EAAX;AAAA,mCACE,QAAC,IAAD,CAAM,IAAN;AACE,cAAA,IAAI,EAAC,YADP;AAEE,cAAA,KAAK,EAAEY,CAAC,CAAC,YAAD,CAFV;AAGE,cAAA,KAAK,EAAE,CAAC;AAAEkC,gBAAAA,QAAQ,EAAE,IAAZ;AAAkBV,gBAAAA,OAAO,EAAG;AAA5B,eAAD,CAHT;AAAA,qCAKE,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AALF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAjBF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eA4BE,QAAC,GAAD;AAAK,UAAA,MAAM,EAAE,EAAb;AAAA,kCACE,QAAC,GAAD;AAAK,YAAA,IAAI,EAAE,CAAX;AAAA,mCACE,QAAC,IAAD,CAAM,IAAN;AAAW,cAAA,IAAI,EAAC,UAAhB;AAA2B,cAAA,KAAK,EAAExB,CAAC,CAAC,UAAD,CAAnC;AAAA,qCACE,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAME,QAAC,GAAD;AAAK,YAAA,IAAI,EAAE,CAAX;AAAA,mCACE,QAAC,IAAD,CAAM,IAAN;AAAW,cAAA,IAAI,EAAC,WAAhB;AAA4B,cAAA,KAAK,EAAEA,CAAC,CAAC,WAAD,CAApC;AAAA,qCACE,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBANF,eAWE,QAAC,GAAD;AAAK,YAAA,IAAI,EAAE,CAAX;AAAA,mCACE,QAAC,IAAD,CAAM,IAAN;AAAW,cAAA,IAAI,EAAC,SAAhB;AAA0B,cAAA,KAAK,EAAEA,CAAC,CAAC,SAAD,CAAlC;AAAA,qCACE,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAXF;AAAA;AAAA;AAAA;AAAA;AAAA,gBA5BF,eA6CE,QAAC,GAAD;AAAK,UAAA,MAAM,EAAE,EAAb;AAAA,kCACE,QAAC,GAAD;AAAK,YAAA,IAAI,EAAE,CAAX;AAAA,mCACE,QAAC,IAAD,CAAM,IAAN;AAAW,cAAA,IAAI,EAAC,SAAhB;AAA0B,cAAA,KAAK,EAAEA,CAAC,CAAC,SAAD,CAAlC;AAAA,qCACE,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAME,QAAC,GAAD;AAAK,YAAA,IAAI,EAAE,CAAX;AAAA,mCACE,QAAC,IAAD,CAAM,IAAN;AAAW,cAAA,IAAI,EAAC,OAAhB;AAAwB,cAAA,KAAK,EAAEA,CAAC,CAAC,OAAD,CAAhC;AAAA,qCACE,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBANF,eAWE,QAAC,GAAD;AAAK,YAAA,IAAI,EAAE,CAAX;AAAA,mCACE,QAAC,IAAD,CAAM,IAAN;AAAW,cAAA,IAAI,EAAC,OAAhB;AAAwB,cAAA,KAAK,EAAEA,CAAC,CAAC,OAAD,CAAhC;AAAA,qCACE,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAXF;AAAA;AAAA;AAAA;AAAA;AAAA,gBA7CF,eA8DE,QAAC,GAAD;AAAK,UAAA,MAAM,EAAE,EAAb;AAAA,iCACE,QAAC,GAAD;AAAK,YAAA,IAAI,EAAE,EAAX;AAAA,mCACE,QAAC,IAAD,CAAM,IAAN;AAAW,cAAA,IAAI,EAAC,MAAhB;AAAuB,cAAA,KAAK,EAAEA,CAAC,CAAC,MAAD,CAA/B;AAAA,qCACE,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBA9DF,eAqEE,QAAC,GAAD;AAAA,iCACE,QAAC,GAAD;AAAK,YAAA,IAAI,EAAE,EAAX;AAAA,mCACE,QAAC,IAAD,CAAM,IAAN;AAAA,qCACE,QAAC,MAAD;AAAQ,gBAAA,KAAK,EAAE;AAAEmC,kBAAAA,KAAK,EAAE;AAAT,iBAAf;AAAmC,gBAAA,IAAI,EAAC,SAAxC;AAAkD,gBAAA,OAAO,EAAEN,YAA3D;AAAA,0BACG7B,CAAC,CAAC,QAAD;AADJ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBArEF;AAAA;AANJ;AAAA;AAAA;AAAA;AAAA;AATF;AAAA;AAAA;AAAA;AAAA,UADF;AAmGD,CA7KD;;GAAMF,kB;UACaxB,W,EACGF,c,EAEMC,W,EAGXI,IAAI,CAAC+B,O;;;KAPhBV,kB;AA+KNA,kBAAkB,CAACsC,YAAnB,GAAkC;AAChCC,EAAAA,aAAa,EAAE,MAAM,CAAE;AADS,CAAlC;AAIA,eAAevC,kBAAf","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { useSelector, useDispatch } from \"react-redux\";\nimport debounce from \"lodash/debounce\";\nimport { confirmAlert } from \"react-confirm-alert\";\n\nimport { Form, Row, Col, Input, Spin, Button } from \"antd\";\nimport { saveInstance, getInstance } from \"../requests\";\nimport showGlobalNotification from \"../../../helpers/showGlobalNotification\";\nimport { setInstanceRedux } from \"../../../redux/instance\";\n\nconst defaultValues = {\n  name: \"\",\n  email: \"\",\n  phone: \"\",\n  facebook: \"\",\n  instagram: \"\",\n  youtube: \"\",\n  active: true,\n  color: \"\",\n  cover: \"\",\n  background: \"\",\n};\n\nconst ManageInstanceForm = () => {\n  const dispatch = useDispatch();\n  const { t, i18n } = useTranslation();\n\n  const sessionStoreRedux = useSelector((store) => store.session);\n\n  const [selectedInstance, setSelectedInstance] = useState(defaultValues);\n  const [form] = Form.useForm();\n  const [loaderForm, setLoaderForm] = useState(false);\n\n  useEffect(() => {\n    setLoaderForm(true);\n    getInstance(true, {\n      onSuccess: (response) => {\n        setInstanceRedux(response.result)(dispatch);\n        setSelectedInstance({\n          ...response.result,\n        });\n        setLoaderForm(false);\n      },\n      onError: () => showGlobalNotification(\"error\", t(\"errorTitle\"), t(\"errorDescription\")),\n    });\n  }, []);\n\n  useEffect(() => {\n    form.setFieldsValue(selectedInstance);\n  }, [form, selectedInstance]);\n\n  const onFinish = (values) => {\n    const data = { ...selectedInstance, ...values };\n\n    saveInstance(\n      {\n        ...data,\n        rootId: sessionStoreRedux.currentSession_id,\n      },\n      {\n        onSuccess: (response) => {\n          setInstanceRedux(response.result)(dispatch);\n          showGlobalNotification(\"success\", t(\"inHorabuena\"), t(\"successfulProcess\"));\n        },\n        onError: () => showGlobalNotification(\"error\", t(\"errorTitle\"), t(\"errorDescription\")),\n        onFinally: () => {},\n      }\n    );\n  };\n\n  const handleFinishConfirm = (values) => {\n    confirmAlert({\n      title: t(\"update\"),\n      message: `Esta seguro que desea continuar ?`,\n      buttons: [\n        {\n          label: t(\"yes\"),\n          onClick: () => onFinish(values),\n        },\n        {\n          label: t(\"no\"),\n          onClick: () => {},\n        },\n      ],\n    });\n  };\n\n  const onValuesChange = debounce((values) => {\n    setSelectedInstance({ ...selectedInstance, ...values });\n  }, 500);\n\n  const handleSubmit = () => {\n    form.validateFields().then(() => {\n      form.submit();\n    });\n  };\n\n  return (\n    <Form\n      form={form}\n      name=\"manage-category-form-modal\"\n      initialValues={defaultValues}\n      className=\"manage-modal\"\n      onFinish={handleFinishConfirm}\n      labelCol={{ span: 24 }}\n      onValuesChange={onValuesChange}\n    >\n      <div className=\"layout-form-modal entity-550 entity-small\">\n        {loaderForm ? (\n          <>\n            <Spin tip={t(\"loading\")} />\n          </>\n        ) : (\n          <>\n            <Row gutter={15}>\n              <Col span={8}>\n                <Form.Item\n                  name=\"name\"\n                  tooltip=\"Firstname here pleaseio\"\n                  label={t(\"name\")}\n                  rules={[\n                    {\n                      required: true,\n                      message: `Por favor ingrese el nombre`,\n                    },\n                  ]}\n                >\n                  <Input placeholder=\"\" value={selectedInstance?.name} />\n                </Form.Item>\n              </Col>\n\n              <Col span={16}>\n                <Form.Item\n                  name=\"background\"\n                  label={t(\"background\")}\n                  rules={[{ required: true, message: `Por favor ingrese el background` }]}\n                >\n                  <Input />\n                </Form.Item>\n              </Col>\n            </Row>\n            <Row gutter={16}>\n              <Col span={8}>\n                <Form.Item name=\"facebook\" label={t(\"facebook\")}>\n                  <Input />\n                </Form.Item>\n              </Col>\n              <Col span={8}>\n                <Form.Item name=\"instagram\" label={t(\"instagram\")}>\n                  <Input />\n                </Form.Item>\n              </Col>\n              <Col span={8}>\n                <Form.Item name=\"youtube\" label={t(\"youtube\")}>\n                  <Input />\n                </Form.Item>\n              </Col>\n            </Row>\n            <Row gutter={16}>\n              <Col span={8}>\n                <Form.Item name=\"website\" label={t(\"website\")}>\n                  <Input />\n                </Form.Item>\n              </Col>\n              <Col span={8}>\n                <Form.Item name=\"email\" label={t(\"email\")}>\n                  <Input />\n                </Form.Item>\n              </Col>\n              <Col span={8}>\n                <Form.Item name=\"phone\" label={t(\"phone\")}>\n                  <Input />\n                </Form.Item>\n              </Col>\n            </Row>\n            <Row gutter={16}>\n              <Col span={24}>\n                <Form.Item name=\"logo\" label={t(\"logo\")}>\n                  <Input />\n                </Form.Item>\n              </Col>\n            </Row>\n            <Row>\n              <Col span={24}>\n                <Form.Item>\n                  <Button style={{ float: \"right\" }} type=\"primary\" onClick={handleSubmit}>\n                    {t(\"update\")}\n                  </Button>\n                </Form.Item>\n              </Col>\n            </Row>\n          </>\n        )}\n      </div>\n    </Form>\n  );\n};\n\nManageInstanceForm.defaultProps = {\n  setInstanceId: () => {},\n};\n\nexport default ManageInstanceForm;\n"]},"metadata":{},"sourceType":"module"}