{"ast":null,"code":"import { customFetch, FetchJson } from \"../../helpers/fetch\";\nimport { apiRoutes } from \"../../constants/routes\";\nimport { getToken } from \"../../utils/localStorage\";\nimport { loadingMode } from \"../shared/components/Loading/constants\";\nimport global from \"../../state/global\";\n\nconst saveGuest = async (props = {}, {\n  onSuccess,\n  onError,\n  onFinally\n} = {}) => {\n  const {\n    guestId\n  } = props;\n  const method = guestId ? \"PUT\" : \"POST\";\n  const path = guestId ? `${apiRoutes.GUESTS.SAVE_DATA}/${guestId}` : `${apiRoutes.GUESTS.SAVE_DATA}`;\n\n  try {\n    const request = await FetchJson(path, method, props);\n    const response = await request.json();\n    onSuccess(response);\n  } catch (error) {\n    if (process.env.NODE_ENV === \"development\") {\n      console.log(error);\n    }\n\n    onError();\n  } finally {\n    onFinally();\n  }\n};\n\nconst getGuest = async (guestId = 0, {\n  onSuccess,\n  onError\n} = {}) => {\n  try {\n    const request = await FetchJson(`${apiRoutes.GUESTS.GET_DATA}/${guestId}`, \"GET\");\n    const response = await request.json();\n    onSuccess(response);\n  } catch (error) {\n    if (process.env.NODE_ENV === \"development\") {\n      console.log(error);\n    }\n\n    onError();\n  }\n};\n\nconst deleteGuest = async (params = {}, {\n  onSuccess,\n  onError,\n  onFinally\n} = {}) => {\n  try {\n    const request = await customFetch(apiRoutes.CATEGORIES.DELETE_CATEGORY, {\n      method: \"POST\",\n      body: new URLSearchParams(params)\n    });\n    const response = await request.json();\n    onSuccess(response);\n  } catch (error) {\n    if (process.env.NODE_ENV === \"development\") {\n      console.log(error);\n    }\n\n    onError();\n  } finally {\n    onFinally();\n  }\n};\n\nconst archivedGuest = async (params = {}, {\n  onSuccess,\n  onError,\n  onFinally\n} = {}) => {\n  const {\n    _id\n  } = params.guest;\n  const method = \"PUT\";\n  const path = `${apiRoutes.GUESTS.ARCHIVED}/${_id}`;\n\n  try {\n    const request = await FetchJson(path, method, {\n      archived: true\n    });\n    const response = await request.json();\n    onSuccess(response);\n  } catch (error) {\n    if (process.env.NODE_ENV === \"development\") {\n      console.log(error);\n    }\n\n    onError();\n  } finally {\n    onFinally();\n  }\n};\n\nconst activeGuest = async (params = {}, {\n  onSuccess,\n  onError,\n  onFinally\n} = {}) => {\n  const {\n    _id,\n    active\n  } = params.guest;\n  const method = \"PUT\";\n  const path = `${apiRoutes.GUESTS.ACTIVE}/${_id}`;\n\n  try {\n    const request = await FetchJson(path, method, {\n      active: !active\n    });\n    const response = await request.json();\n    onSuccess(response);\n  } catch (error) {\n    if (process.env.NODE_ENV === \"development\") {\n      console.log(error);\n    }\n\n    onError();\n  } finally {\n    onFinally();\n  }\n};\n\nconst saveAssist = async (props = {}, {\n  onSuccess,\n  onError,\n  onFinally\n} = {}) => {\n  const {\n    guestId\n  } = props;\n  const method = \"POST\";\n  const path = `${apiRoutes.ASSIST.SAVE}/${guestId}`;\n\n  try {\n    const request = await FetchJson(path, method, props);\n    const response = await request.json();\n    onSuccess(response);\n  } catch (error) {\n    if (process.env.NODE_ENV === \"development\") {\n      console.log(error);\n    }\n\n    onError();\n  } finally {\n    onFinally();\n  }\n};\n\nconst validateSessionGuest = async ({\n  onSuccess,\n  onError\n} = {}) => {\n  try {\n    const request = await FetchJson(`${apiRoutes.GUESTS.VALIDATE}`, \"GET\");\n    const response = await request.json();\n    onSuccess(response);\n  } catch (error) {\n    if (process.env.NODE_ENV === \"development\") {\n      console.log(error);\n    } // onError();\n\n  }\n};\n\nconst validateSessionRoot = async ({\n  onSuccess,\n  onError\n} = {}) => {\n  try {\n    const request = await FetchJson(`${apiRoutes.ROOT.VALIDATE}`, \"GET\");\n    const response = await request.json();\n    onSuccess(response);\n  } catch (error) {\n    if (process.env.NODE_ENV === \"development\") {\n      console.log(error);\n    } // onError();\n\n  }\n};\n\nexport { getGuest, saveGuest, deleteGuest, archivedGuest, activeGuest, saveAssist, validateSessionGuest, validateSessionRoot };","map":{"version":3,"sources":["/Users/kometsales/Documents/heyo-slack/src/features/guest/requests.js"],"names":["customFetch","FetchJson","apiRoutes","getToken","loadingMode","global","saveGuest","props","onSuccess","onError","onFinally","guestId","method","path","GUESTS","SAVE_DATA","request","response","json","error","process","env","NODE_ENV","console","log","getGuest","GET_DATA","deleteGuest","params","CATEGORIES","DELETE_CATEGORY","body","URLSearchParams","archivedGuest","_id","guest","ARCHIVED","archived","activeGuest","active","ACTIVE","saveAssist","ASSIST","SAVE","validateSessionGuest","VALIDATE","validateSessionRoot","ROOT"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,SAAtB,QAAuC,qBAAvC;AACA,SAASC,SAAT,QAA0B,wBAA1B;AACA,SAASC,QAAT,QAAyB,0BAAzB;AACA,SAASC,WAAT,QAA4B,wCAA5B;AACA,OAAOC,MAAP,MAAmB,oBAAnB;;AAEA,MAAMC,SAAS,GAAG,OAAOC,KAAK,GAAG,EAAf,EAAmB;AAAEC,EAAAA,SAAF;AAAaC,EAAAA,OAAb;AAAsBC,EAAAA;AAAtB,IAAoC,EAAvD,KAA8D;AAC9E,QAAM;AAAEC,IAAAA;AAAF,MAAcJ,KAApB;AACA,QAAMK,MAAM,GAAGD,OAAO,GAAG,KAAH,GAAW,MAAjC;AACA,QAAME,IAAI,GAAGF,OAAO,GAAI,GAAET,SAAS,CAACY,MAAV,CAAiBC,SAAU,IAAGJ,OAAQ,EAA5C,GAAiD,GAAET,SAAS,CAACY,MAAV,CAAiBC,SAAU,EAAlG;;AAEA,MAAI;AACF,UAAMC,OAAO,GAAG,MAAMf,SAAS,CAACY,IAAD,EAAOD,MAAP,EAAeL,KAAf,CAA/B;AAEA,UAAMU,QAAQ,GAAG,MAAMD,OAAO,CAACE,IAAR,EAAvB;AACAV,IAAAA,SAAS,CAACS,QAAD,CAAT;AACD,GALD,CAKE,OAAOE,KAAP,EAAc;AACd,QAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;AAC1CC,MAAAA,OAAO,CAACC,GAAR,CAAYL,KAAZ;AACD;;AAEDV,IAAAA,OAAO;AACR,GAXD,SAWU;AACRC,IAAAA,SAAS;AACV;AACF,CAnBD;;AAqBA,MAAMe,QAAQ,GAAG,OAAOd,OAAO,GAAG,CAAjB,EAAoB;AAAEH,EAAAA,SAAF;AAAaC,EAAAA;AAAb,IAAyB,EAA7C,KAAoD;AACnE,MAAI;AACF,UAAMO,OAAO,GAAG,MAAMf,SAAS,CAAE,GAAEC,SAAS,CAACY,MAAV,CAAiBY,QAAS,IAAGf,OAAQ,EAAzC,EAA4C,KAA5C,CAA/B;AAEA,UAAMM,QAAQ,GAAG,MAAMD,OAAO,CAACE,IAAR,EAAvB;AACAV,IAAAA,SAAS,CAACS,QAAD,CAAT;AACD,GALD,CAKE,OAAOE,KAAP,EAAc;AACd,QAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;AAC1CC,MAAAA,OAAO,CAACC,GAAR,CAAYL,KAAZ;AACD;;AAEDV,IAAAA,OAAO;AACR;AACF,CAbD;;AAeA,MAAMkB,WAAW,GAAG,OAAOC,MAAM,GAAG,EAAhB,EAAoB;AAAEpB,EAAAA,SAAF;AAAaC,EAAAA,OAAb;AAAsBC,EAAAA;AAAtB,IAAoC,EAAxD,KAA+D;AACjF,MAAI;AACF,UAAMM,OAAO,GAAG,MAAMhB,WAAW,CAACE,SAAS,CAAC2B,UAAV,CAAqBC,eAAtB,EAAuC;AACtElB,MAAAA,MAAM,EAAE,MAD8D;AAEtEmB,MAAAA,IAAI,EAAE,IAAIC,eAAJ,CAAoBJ,MAApB;AAFgE,KAAvC,CAAjC;AAKA,UAAMX,QAAQ,GAAG,MAAMD,OAAO,CAACE,IAAR,EAAvB;AAEAV,IAAAA,SAAS,CAACS,QAAD,CAAT;AACD,GATD,CASE,OAAOE,KAAP,EAAc;AACd,QAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;AAC1CC,MAAAA,OAAO,CAACC,GAAR,CAAYL,KAAZ;AACD;;AAEDV,IAAAA,OAAO;AACR,GAfD,SAeU;AACRC,IAAAA,SAAS;AACV;AACF,CAnBD;;AAqBA,MAAMuB,aAAa,GAAG,OAAOL,MAAM,GAAG,EAAhB,EAAoB;AAAEpB,EAAAA,SAAF;AAAaC,EAAAA,OAAb;AAAsBC,EAAAA;AAAtB,IAAoC,EAAxD,KAA+D;AACnF,QAAM;AAAEwB,IAAAA;AAAF,MAAUN,MAAM,CAACO,KAAvB;AACA,QAAMvB,MAAM,GAAG,KAAf;AACA,QAAMC,IAAI,GAAI,GAAEX,SAAS,CAACY,MAAV,CAAiBsB,QAAS,IAAGF,GAAI,EAAjD;;AAEA,MAAI;AACF,UAAMlB,OAAO,GAAG,MAAMf,SAAS,CAACY,IAAD,EAAOD,MAAP,EAAe;AAAEyB,MAAAA,QAAQ,EAAE;AAAZ,KAAf,CAA/B;AAEA,UAAMpB,QAAQ,GAAG,MAAMD,OAAO,CAACE,IAAR,EAAvB;AACAV,IAAAA,SAAS,CAACS,QAAD,CAAT;AACD,GALD,CAKE,OAAOE,KAAP,EAAc;AACd,QAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;AAC1CC,MAAAA,OAAO,CAACC,GAAR,CAAYL,KAAZ;AACD;;AAEDV,IAAAA,OAAO;AACR,GAXD,SAWU;AACRC,IAAAA,SAAS;AACV;AACF,CAnBD;;AAqBA,MAAM4B,WAAW,GAAG,OAAOV,MAAM,GAAG,EAAhB,EAAoB;AAAEpB,EAAAA,SAAF;AAAaC,EAAAA,OAAb;AAAsBC,EAAAA;AAAtB,IAAoC,EAAxD,KAA+D;AACjF,QAAM;AAAEwB,IAAAA,GAAF;AAAOK,IAAAA;AAAP,MAAkBX,MAAM,CAACO,KAA/B;AACA,QAAMvB,MAAM,GAAG,KAAf;AACA,QAAMC,IAAI,GAAI,GAAEX,SAAS,CAACY,MAAV,CAAiB0B,MAAO,IAAGN,GAAI,EAA/C;;AAEA,MAAI;AACF,UAAMlB,OAAO,GAAG,MAAMf,SAAS,CAACY,IAAD,EAAOD,MAAP,EAAe;AAAE2B,MAAAA,MAAM,EAAE,CAACA;AAAX,KAAf,CAA/B;AAEA,UAAMtB,QAAQ,GAAG,MAAMD,OAAO,CAACE,IAAR,EAAvB;AACAV,IAAAA,SAAS,CAACS,QAAD,CAAT;AACD,GALD,CAKE,OAAOE,KAAP,EAAc;AACd,QAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;AAC1CC,MAAAA,OAAO,CAACC,GAAR,CAAYL,KAAZ;AACD;;AAEDV,IAAAA,OAAO;AACR,GAXD,SAWU;AACRC,IAAAA,SAAS;AACV;AACF,CAnBD;;AAqBA,MAAM+B,UAAU,GAAG,OAAOlC,KAAK,GAAG,EAAf,EAAmB;AAAEC,EAAAA,SAAF;AAAaC,EAAAA,OAAb;AAAsBC,EAAAA;AAAtB,IAAoC,EAAvD,KAA8D;AAC/E,QAAM;AAAEC,IAAAA;AAAF,MAAcJ,KAApB;AACA,QAAMK,MAAM,GAAG,MAAf;AACA,QAAMC,IAAI,GAAI,GAAEX,SAAS,CAACwC,MAAV,CAAiBC,IAAK,IAAGhC,OAAQ,EAAjD;;AAEA,MAAI;AACF,UAAMK,OAAO,GAAG,MAAMf,SAAS,CAACY,IAAD,EAAOD,MAAP,EAAeL,KAAf,CAA/B;AAEA,UAAMU,QAAQ,GAAG,MAAMD,OAAO,CAACE,IAAR,EAAvB;AACAV,IAAAA,SAAS,CAACS,QAAD,CAAT;AACD,GALD,CAKE,OAAOE,KAAP,EAAc;AACd,QAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;AAC1CC,MAAAA,OAAO,CAACC,GAAR,CAAYL,KAAZ;AACD;;AAEDV,IAAAA,OAAO;AACR,GAXD,SAWU;AACRC,IAAAA,SAAS;AACV;AACF,CAnBD;;AAqBA,MAAMkC,oBAAoB,GAAG,OAAO;AAAEpC,EAAAA,SAAF;AAAaC,EAAAA;AAAb,IAAyB,EAAhC,KAAuC;AAClE,MAAI;AACF,UAAMO,OAAO,GAAG,MAAMf,SAAS,CAAE,GAAEC,SAAS,CAACY,MAAV,CAAiB+B,QAAS,EAA9B,EAAiC,KAAjC,CAA/B;AACA,UAAM5B,QAAQ,GAAG,MAAMD,OAAO,CAACE,IAAR,EAAvB;AACAV,IAAAA,SAAS,CAACS,QAAD,CAAT;AACD,GAJD,CAIE,OAAOE,KAAP,EAAc;AACd,QAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;AAC1CC,MAAAA,OAAO,CAACC,GAAR,CAAYL,KAAZ;AACD,KAHa,CAKd;;AACD;AACF,CAZD;;AAcA,MAAM2B,mBAAmB,GAAG,OAAO;AAAEtC,EAAAA,SAAF;AAAaC,EAAAA;AAAb,IAAyB,EAAhC,KAAuC;AACjE,MAAI;AACF,UAAMO,OAAO,GAAG,MAAMf,SAAS,CAAE,GAAEC,SAAS,CAAC6C,IAAV,CAAeF,QAAS,EAA5B,EAA+B,KAA/B,CAA/B;AACA,UAAM5B,QAAQ,GAAG,MAAMD,OAAO,CAACE,IAAR,EAAvB;AACAV,IAAAA,SAAS,CAACS,QAAD,CAAT;AACD,GAJD,CAIE,OAAOE,KAAP,EAAc;AACd,QAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;AAC1CC,MAAAA,OAAO,CAACC,GAAR,CAAYL,KAAZ;AACD,KAHa,CAKd;;AACD;AACF,CAZD;;AAcA,SACEM,QADF,EAEEnB,SAFF,EAGEqB,WAHF,EAIEM,aAJF,EAKEK,WALF,EAMEG,UANF,EAOEG,oBAPF,EAQEE,mBARF","sourcesContent":["import { customFetch, FetchJson } from \"../../helpers/fetch\";\nimport { apiRoutes } from \"../../constants/routes\";\nimport { getToken } from \"../../utils/localStorage\";\nimport { loadingMode } from \"../shared/components/Loading/constants\";\nimport global from \"../../state/global\";\n\nconst saveGuest = async (props = {}, { onSuccess, onError, onFinally } = {}) => {\n  const { guestId } = props;\n  const method = guestId ? \"PUT\" : \"POST\";\n  const path = guestId ? `${apiRoutes.GUESTS.SAVE_DATA}/${guestId}` : `${apiRoutes.GUESTS.SAVE_DATA}`;\n\n  try {\n    const request = await FetchJson(path, method, props);\n\n    const response = await request.json();\n    onSuccess(response);\n  } catch (error) {\n    if (process.env.NODE_ENV === \"development\") {\n      console.log(error);\n    }\n\n    onError();\n  } finally {\n    onFinally();\n  }\n};\n\nconst getGuest = async (guestId = 0, { onSuccess, onError } = {}) => {\n  try {\n    const request = await FetchJson(`${apiRoutes.GUESTS.GET_DATA}/${guestId}`, \"GET\");\n\n    const response = await request.json();\n    onSuccess(response);\n  } catch (error) {\n    if (process.env.NODE_ENV === \"development\") {\n      console.log(error);\n    }\n\n    onError();\n  }\n};\n\nconst deleteGuest = async (params = {}, { onSuccess, onError, onFinally } = {}) => {\n  try {\n    const request = await customFetch(apiRoutes.CATEGORIES.DELETE_CATEGORY, {\n      method: \"POST\",\n      body: new URLSearchParams(params),\n    });\n\n    const response = await request.json();\n\n    onSuccess(response);\n  } catch (error) {\n    if (process.env.NODE_ENV === \"development\") {\n      console.log(error);\n    }\n\n    onError();\n  } finally {\n    onFinally();\n  }\n};\n\nconst archivedGuest = async (params = {}, { onSuccess, onError, onFinally } = {}) => {\n  const { _id } = params.guest;\n  const method = \"PUT\";\n  const path = `${apiRoutes.GUESTS.ARCHIVED}/${_id}`;\n\n  try {\n    const request = await FetchJson(path, method, { archived: true });\n\n    const response = await request.json();\n    onSuccess(response);\n  } catch (error) {\n    if (process.env.NODE_ENV === \"development\") {\n      console.log(error);\n    }\n\n    onError();\n  } finally {\n    onFinally();\n  }\n};\n\nconst activeGuest = async (params = {}, { onSuccess, onError, onFinally } = {}) => {\n  const { _id, active } = params.guest;\n  const method = \"PUT\";\n  const path = `${apiRoutes.GUESTS.ACTIVE}/${_id}`;\n\n  try {\n    const request = await FetchJson(path, method, { active: !active });\n\n    const response = await request.json();\n    onSuccess(response);\n  } catch (error) {\n    if (process.env.NODE_ENV === \"development\") {\n      console.log(error);\n    }\n\n    onError();\n  } finally {\n    onFinally();\n  }\n};\n\nconst saveAssist = async (props = {}, { onSuccess, onError, onFinally } = {}) => {\n  const { guestId } = props;\n  const method = \"POST\";\n  const path = `${apiRoutes.ASSIST.SAVE}/${guestId}`;\n\n  try {\n    const request = await FetchJson(path, method, props);\n\n    const response = await request.json();\n    onSuccess(response);\n  } catch (error) {\n    if (process.env.NODE_ENV === \"development\") {\n      console.log(error);\n    }\n\n    onError();\n  } finally {\n    onFinally();\n  }\n};\n\nconst validateSessionGuest = async ({ onSuccess, onError } = {}) => {\n  try {\n    const request = await FetchJson(`${apiRoutes.GUESTS.VALIDATE}`, \"GET\");\n    const response = await request.json();\n    onSuccess(response);\n  } catch (error) {\n    if (process.env.NODE_ENV === \"development\") {\n      console.log(error);\n    }\n\n    // onError();\n  }\n};\n\nconst validateSessionRoot = async ({ onSuccess, onError } = {}) => {\n  try {\n    const request = await FetchJson(`${apiRoutes.ROOT.VALIDATE}`, \"GET\");\n    const response = await request.json();\n    onSuccess(response);\n  } catch (error) {\n    if (process.env.NODE_ENV === \"development\") {\n      console.log(error);\n    }\n\n    // onError();\n  }\n};\n\nexport {\n  getGuest,\n  saveGuest,\n  deleteGuest,\n  archivedGuest,\n  activeGuest,\n  saveAssist,\n  validateSessionGuest,\n  validateSessionRoot,\n};\n"]},"metadata":{},"sourceType":"module"}