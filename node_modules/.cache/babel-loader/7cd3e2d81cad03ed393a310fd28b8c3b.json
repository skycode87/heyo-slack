{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport isEqual from \"lodash/isEqual\";\nimport { useCallback, useEffect } from \"react\";\nconst excludedTags = [\"INPUT\", \"TEXTAREA\", \"SELECT\"];\n\nconst useShortcut = (keys = [], callbackFn, dependencies = []) => {\n  _s();\n\n  const callback = useCallback(callbackFn, dependencies);\n  const targetKeys = new Set(keys.map(key => key.toLowerCase()));\n  const pressedKeys = new Set();\n  const keyDownListener = useCallback(({\n    key,\n    target,\n    repeat\n  }) => {\n    if (repeat || excludedTags.includes(target.tagName)) return;\n    pressedKeys.add(key.toLowerCase());\n\n    if (isEqual(pressedKeys, targetKeys)) {\n      callback();\n    }\n  }, []);\n  const keyUpListener = useCallback(({\n    key,\n    target\n  }) => {\n    if (excludedTags.includes(target.tagName)) return;\n    pressedKeys.delete(key.toLowerCase());\n  }, []);\n  useEffect(() => {\n    window.addEventListener(\"keydown\", keyDownListener, true);\n    window.addEventListener(\"keyup\", keyUpListener, true);\n    return () => {\n      window.removeEventListener(\"keydown\", keyDownListener, true);\n      window.removeEventListener(\"keyup\", keyUpListener, true);\n    };\n  }, [callback]);\n};\n\n_s(useShortcut, \"uk1qdI785n5Gg9pmmDvvjS12t24=\");\n\nexport default useShortcut;","map":{"version":3,"sources":["/Users/kometsales/Documents/heyo-slack/src/features/shared/hooks/useShortcut.js"],"names":["isEqual","useCallback","useEffect","excludedTags","useShortcut","keys","callbackFn","dependencies","callback","targetKeys","Set","map","key","toLowerCase","pressedKeys","keyDownListener","target","repeat","includes","tagName","add","keyUpListener","delete","window","addEventListener","removeEventListener"],"mappings":";;AAAA,OAAOA,OAAP,MAAoB,gBAApB;AACA,SAASC,WAAT,EAAsBC,SAAtB,QAAuC,OAAvC;AAEA,MAAMC,YAAY,GAAG,CAAC,OAAD,EAAU,UAAV,EAAsB,QAAtB,CAArB;;AAEA,MAAMC,WAAW,GAAG,CAACC,IAAI,GAAG,EAAR,EAAYC,UAAZ,EAAwBC,YAAY,GAAG,EAAvC,KAA8C;AAAA;;AAChE,QAAMC,QAAQ,GAAGP,WAAW,CAACK,UAAD,EAAaC,YAAb,CAA5B;AACA,QAAME,UAAU,GAAG,IAAIC,GAAJ,CAAQL,IAAI,CAACM,GAAL,CAAUC,GAAD,IAASA,GAAG,CAACC,WAAJ,EAAlB,CAAR,CAAnB;AACA,QAAMC,WAAW,GAAG,IAAIJ,GAAJ,EAApB;AAEA,QAAMK,eAAe,GAAGd,WAAW,CAAC,CAAC;AAAEW,IAAAA,GAAF;AAAOI,IAAAA,MAAP;AAAeC,IAAAA;AAAf,GAAD,KAA6B;AAC/D,QAAIA,MAAM,IAAId,YAAY,CAACe,QAAb,CAAsBF,MAAM,CAACG,OAA7B,CAAd,EAAqD;AAErDL,IAAAA,WAAW,CAACM,GAAZ,CAAgBR,GAAG,CAACC,WAAJ,EAAhB;;AAEA,QAAIb,OAAO,CAACc,WAAD,EAAcL,UAAd,CAAX,EAAsC;AACpCD,MAAAA,QAAQ;AACT;AACF,GARkC,EAQhC,EARgC,CAAnC;AAUA,QAAMa,aAAa,GAAGpB,WAAW,CAAC,CAAC;AAAEW,IAAAA,GAAF;AAAOI,IAAAA;AAAP,GAAD,KAAqB;AACrD,QAAIb,YAAY,CAACe,QAAb,CAAsBF,MAAM,CAACG,OAA7B,CAAJ,EAA2C;AAE3CL,IAAAA,WAAW,CAACQ,MAAZ,CAAmBV,GAAG,CAACC,WAAJ,EAAnB;AACD,GAJgC,EAI9B,EAJ8B,CAAjC;AAMAX,EAAAA,SAAS,CAAC,MAAM;AACdqB,IAAAA,MAAM,CAACC,gBAAP,CAAwB,SAAxB,EAAmCT,eAAnC,EAAoD,IAApD;AACAQ,IAAAA,MAAM,CAACC,gBAAP,CAAwB,OAAxB,EAAiCH,aAAjC,EAAgD,IAAhD;AAEA,WAAO,MAAM;AACXE,MAAAA,MAAM,CAACE,mBAAP,CAA2B,SAA3B,EAAsCV,eAAtC,EAAuD,IAAvD;AACAQ,MAAAA,MAAM,CAACE,mBAAP,CAA2B,OAA3B,EAAoCJ,aAApC,EAAmD,IAAnD;AACD,KAHD;AAID,GARQ,EAQN,CAACb,QAAD,CARM,CAAT;AASD,CA9BD;;GAAMJ,W;;AAgCN,eAAeA,WAAf","sourcesContent":["import isEqual from \"lodash/isEqual\";\nimport { useCallback, useEffect } from \"react\";\n\nconst excludedTags = [\"INPUT\", \"TEXTAREA\", \"SELECT\"];\n\nconst useShortcut = (keys = [], callbackFn, dependencies = []) => {\n  const callback = useCallback(callbackFn, dependencies);\n  const targetKeys = new Set(keys.map((key) => key.toLowerCase()));\n  const pressedKeys = new Set();\n\n  const keyDownListener = useCallback(({ key, target, repeat }) => {\n    if (repeat || excludedTags.includes(target.tagName)) return;\n\n    pressedKeys.add(key.toLowerCase());\n\n    if (isEqual(pressedKeys, targetKeys)) {\n      callback();\n    }\n  }, []);\n\n  const keyUpListener = useCallback(({ key, target }) => {\n    if (excludedTags.includes(target.tagName)) return;\n\n    pressedKeys.delete(key.toLowerCase());\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", keyDownListener, true);\n    window.addEventListener(\"keyup\", keyUpListener, true);\n\n    return () => {\n      window.removeEventListener(\"keydown\", keyDownListener, true);\n      window.removeEventListener(\"keyup\", keyUpListener, true);\n    };\n  }, [callback]);\n};\n\nexport default useShortcut;\n"]},"metadata":{},"sourceType":"module"}