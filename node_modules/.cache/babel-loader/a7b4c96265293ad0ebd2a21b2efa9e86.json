{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { apiRoutes } from \"../../../constants/routes\";\nimport useFetch from \"../../shared/hooks/useFetch\";\nimport { getUserId } from \"../../../utils/localStorage\";\n\nconst useBuckets = (packId = null, planId = null, userId = null) => {\n  _s();\n\n  const [buckets, setBuckets] = useState([]);\n  const [filters, setFilters] = useState({\n    description: \"\",\n    active: \"\",\n    name: \"\",\n    sord: \"asc\",\n    sidx: \"date\",\n    userId,\n    packId,\n    planId,\n    rootId: getUserId()\n  });\n  const [pagination, setPagination] = useState({\n    current: 1,\n    pageSize: 100,\n    total: 0\n  });\n  const {\n    data,\n    loading,\n    refetch\n  } = useFetch(apiRoutes.BUCKET.LOAD_GRID, \"POST\", new URLSearchParams({ ...filters,\n    page: pagination.current,\n    rows: pagination.pageSize\n  }));\n  useEffect(() => {\n    if (data) {\n      setBuckets(data === null || data === void 0 ? void 0 : data.rows);\n      setPagination({ ...pagination,\n        current: parseInt(data === null || data === void 0 ? void 0 : data.page),\n        total: parseInt(data === null || data === void 0 ? void 0 : data.records)\n      });\n    }\n  }, [data]);\n  return {\n    buckets,\n    filters,\n    setFilters,\n    pagination,\n    setPagination,\n    loading,\n    refetch\n  };\n};\n\n_s(useBuckets, \"LG86qELhoO2kPkLN3XuoU8uKg6g=\", false, function () {\n  return [useFetch];\n});\n\nexport default useBuckets;","map":{"version":3,"sources":["/Users/kometsales/Documents/heyo-slack/src/features/bucket/hooks/useBuckets.js"],"names":["useState","useEffect","apiRoutes","useFetch","getUserId","useBuckets","packId","planId","userId","buckets","setBuckets","filters","setFilters","description","active","name","sord","sidx","rootId","pagination","setPagination","current","pageSize","total","data","loading","refetch","BUCKET","LOAD_GRID","URLSearchParams","page","rows","parseInt","records"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,SAAT,QAA0B,2BAA1B;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,SAASC,SAAT,QAA0B,6BAA1B;;AAEA,MAAMC,UAAU,GAAG,CAACC,MAAM,GAAG,IAAV,EAAgBC,MAAM,GAAG,IAAzB,EAA+BC,MAAM,GAAG,IAAxC,KAAiD;AAAA;;AAClE,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACW,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAAC;AACrCa,IAAAA,WAAW,EAAE,EADwB;AAErCC,IAAAA,MAAM,EAAE,EAF6B;AAGrCC,IAAAA,IAAI,EAAE,EAH+B;AAIrCC,IAAAA,IAAI,EAAE,KAJ+B;AAKrCC,IAAAA,IAAI,EAAE,MAL+B;AAMrCT,IAAAA,MANqC;AAOrCF,IAAAA,MAPqC;AAQrCC,IAAAA,MARqC;AASrCW,IAAAA,MAAM,EAAEd,SAAS;AAToB,GAAD,CAAtC;AAWA,QAAM,CAACe,UAAD,EAAaC,aAAb,IAA8BpB,QAAQ,CAAC;AAAEqB,IAAAA,OAAO,EAAE,CAAX;AAAcC,IAAAA,QAAQ,EAAE,GAAxB;AAA6BC,IAAAA,KAAK,EAAE;AAApC,GAAD,CAA5C;AACA,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,OAAR;AAAiBC,IAAAA;AAAjB,MAA6BvB,QAAQ,CACzCD,SAAS,CAACyB,MAAV,CAAiBC,SADwB,EAEzC,MAFyC,EAGzC,IAAIC,eAAJ,CAAoB,EAAE,GAAGlB,OAAL;AAAcmB,IAAAA,IAAI,EAAEX,UAAU,CAACE,OAA/B;AAAwCU,IAAAA,IAAI,EAAEZ,UAAU,CAACG;AAAzD,GAApB,CAHyC,CAA3C;AAMArB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIuB,IAAJ,EAAU;AACRd,MAAAA,UAAU,CAACc,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAEO,IAAP,CAAV;AACAX,MAAAA,aAAa,CAAC,EAAE,GAAGD,UAAL;AAAiBE,QAAAA,OAAO,EAAEW,QAAQ,CAACR,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAEM,IAAP,CAAlC;AAAgDP,QAAAA,KAAK,EAAES,QAAQ,CAACR,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAES,OAAP;AAA/D,OAAD,CAAb;AACD;AACF,GALQ,EAKN,CAACT,IAAD,CALM,CAAT;AAOA,SAAO;AAAEf,IAAAA,OAAF;AAAWE,IAAAA,OAAX;AAAoBC,IAAAA,UAApB;AAAgCO,IAAAA,UAAhC;AAA4CC,IAAAA,aAA5C;AAA2DK,IAAAA,OAA3D;AAAoEC,IAAAA;AAApE,GAAP;AACD,CA5BD;;GAAMrB,U;UAc+BF,Q;;;AAgBrC,eAAeE,UAAf","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { apiRoutes } from \"../../../constants/routes\";\nimport useFetch from \"../../shared/hooks/useFetch\";\nimport { getUserId } from \"../../../utils/localStorage\";\n\nconst useBuckets = (packId = null, planId = null, userId = null) => {\n  const [buckets, setBuckets] = useState([]);\n  const [filters, setFilters] = useState({\n    description: \"\",\n    active: \"\",\n    name: \"\",\n    sord: \"asc\",\n    sidx: \"date\",\n    userId,\n    packId,\n    planId,\n    rootId: getUserId(),\n  });\n  const [pagination, setPagination] = useState({ current: 1, pageSize: 100, total: 0 });\n  const { data, loading, refetch } = useFetch(\n    apiRoutes.BUCKET.LOAD_GRID,\n    \"POST\",\n    new URLSearchParams({ ...filters, page: pagination.current, rows: pagination.pageSize })\n  );\n\n  useEffect(() => {\n    if (data) {\n      setBuckets(data?.rows);\n      setPagination({ ...pagination, current: parseInt(data?.page), total: parseInt(data?.records) });\n    }\n  }, [data]);\n\n  return { buckets, filters, setFilters, pagination, setPagination, loading, refetch };\n};\n\nexport default useBuckets;\n"]},"metadata":{},"sourceType":"module"}