{"ast":null,"code":"var _jsxFileName = \"/Users/kometsales/Documents/heyo-slack/src/features/selectModal/components/ManagePlanModal.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport debounce from \"lodash/debounce\";\nimport { useTranslation } from \"react-i18next\";\nimport { Form, Row, Col, Input, Select, Spin, Descriptions } from \"antd\";\nimport showGlobalNotification from \"../../../helpers/showGlobalNotification\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Option\n} = Select;\n\nconst ManageAppModal = ({\n  getApp,\n  appId,\n  formData,\n  closeModal,\n  refetch,\n  initialValues,\n  setFormData,\n  dataRow,\n  handleSave\n}) => {\n  _s();\n\n  const {\n    t,\n    i18n\n  } = useTranslation();\n  const [selectedApp, setSelectedApp] = useState(initialValues);\n  const [form] = Form.useForm();\n  const [requestData, setRequestData] = useState({});\n  const [loaderForm, setLoaderForm] = useState(false);\n  useEffect(() => {\n    if (appId) {\n      setLoaderForm(true);\n      getApp(appId, {\n        onSuccess: response => {\n          setSelectedApp(response.result);\n          setLoaderForm(false);\n        },\n        onError: () => showGlobalNotification(\"error\", t(\"errorTitle\"), t(\"errorDescription\"))\n      });\n    } else {\n      setSelectedApp(initialValues);\n    }\n  }, [appId]);\n  useEffect(() => {\n    if (requestData.message) {\n      closeModal();\n      showGlobalNotification(\"success\", t(\"inHorabuena\"), t(\"successfulProcess\"));\n      if (!appId) setSelectedApp(initialValues);\n      refetch();\n    }\n  }, [requestData]);\n  useEffect(() => {\n    form.setFieldsValue({ ...formData,\n      amount: dataRow.price,\n      total: dataRow.price,\n      fullname: `${formData.userId.firstname} ${formData.userId.lastname}`,\n      email: `${formData.userId.email}`,\n      phone: `${formData.userId.phone}`,\n      mode: \"Efectivo\",\n      pending: 0,\n      status: \"Por confirmar\"\n    });\n    setFormData({ ...formData,\n      amount: dataRow.price,\n      total: dataRow.price,\n      fullname: `${formData.userId.firstname} ${formData.userId.lastname}`,\n      email: `${formData.userId.email}`,\n      phone: `${formData.userId.phone}`,\n      mode: \"Efectivo\",\n      pending: 0,\n      status: \"Por confirmar\"\n    });\n  }, [dataRow]);\n  useEffect(() => {\n    form.setFieldsValue(formData);\n  }, [form, selectedApp, formData]);\n  useEffect(() => {\n    console.log(formData);\n  }, [formData]);\n  const onValuesChange = debounce(values => {\n    console.log(values);\n\n    if (values === null || values === void 0 ? void 0 : values.amount) {\n      if (parseFloat(values.amount) <= parseFloat(formData.total)) {\n        setFormData({ ...formData,\n          ...values,\n          pending: formData.total - values.amount\n        });\n      } else {\n        setFormData({ ...formData,\n          ...values,\n          amount: formData.amount\n        });\n      }\n    } else {\n      setFormData({ ...formData,\n        ...values\n      });\n    }\n  }, 500);\n  return /*#__PURE__*/_jsxDEV(Form, {\n    form: form,\n    name: \"manage-category-form-modal\",\n    initialValues: initialValues,\n    className: \"manage-modal\",\n    labelCol: {\n      span: 24\n    },\n    onValuesChange: onValuesChange,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"layout-form-modal entity-400 entity-small\",\n      children: loaderForm ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(Spin, {\n          tip: t(\"loading\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }, this)\n      }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Descriptions, {\n          size: \"small\",\n          column: 2,\n          style: {\n            marginBottom: 20\n          },\n          children: [/*#__PURE__*/_jsxDEV(Descriptions.Item, {\n            label: t(\"name\"),\n            children: dataRow.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n            label: t(\"duration\"),\n            children: dataRow.duration\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n            label: t(\"category\"),\n            children: dataRow.category\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n            label: t(\"price\"),\n            children: dataRow.price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          gutter: 15,\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            span: 18,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"observation\",\n              label: t(\"observations\"),\n              children: /*#__PURE__*/_jsxDEV(Input, {\n                value: selectedApp === null || selectedApp === void 0 ? void 0 : selectedApp.observation\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"status\",\n              label: t(\"status\"),\n              children: /*#__PURE__*/_jsxDEV(Select, {\n                className: \"select-form-modal\",\n                children: [/*#__PURE__*/_jsxDEV(Option, {\n                  value: \"Por confirmar\",\n                  children: \"Por confirmar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Option, {\n                  value: \"Confirmado\",\n                  children: \"Confirmado\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Option, {\n                  value: \"Anulado\",\n                  children: \"Anulado\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          gutter: 15,\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            span: 7,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"mode\",\n              label: t(\"mode\"),\n              children: /*#__PURE__*/_jsxDEV(Select, {\n                className: \"select-form-modal\",\n                children: [/*#__PURE__*/_jsxDEV(Option, {\n                  value: \"Transferencia\",\n                  children: \"Transferencia\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Option, {\n                  value: \"efectivo\",\n                  children: \"Efectivo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Option, {\n                  value: \"Debito\",\n                  children: \"Debito\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Option, {\n                  value: \"Credito\",\n                  children: \"Credito\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Option, {\n                  value: \"Otro\",\n                  children: \"Otro\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"reference\",\n              label: t(\"reference\"),\n              children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 11,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"description\",\n              label: t(\"description\"),\n              children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          gutter: 16,\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            span: 8,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"fullname\",\n              label: t(\"fullname\"),\n              children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 8,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"email\",\n              label: t(\"email\"),\n              children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 8,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"phone\",\n              label: t(\"phone\"),\n              children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          gutter: 16,\n          style: {\n            backgroundColor: \"#FFE79F\",\n            paddingTop: 10,\n            marginTop: 10,\n            borderRadius: 5\n          },\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            span: 8,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              label: t(\"amountToPay\"),\n              name: \"amount\",\n              children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 8,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              label: t(\"isPending\"),\n              name: \"pending\",\n              children: /*#__PURE__*/_jsxDEV(Input, {\n                disabled: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 8,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              label: t(\"totalToPay\"),\n              name: \"total\",\n              children: /*#__PURE__*/_jsxDEV(Input, {\n                disabled: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ManageAppModal, \"+iArvx1eW/r//h0hboO/YzRyXmg=\", false, function () {\n  return [useTranslation, Form.useForm];\n});\n\n_c = ManageAppModal;\nManageAppModal.defaultProps = {\n  setAppId: () => {}\n};\nexport default ManageAppModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"ManageAppModal\");","map":{"version":3,"sources":["/Users/kometsales/Documents/heyo-slack/src/features/selectModal/components/ManagePlanModal.js"],"names":["useState","useEffect","debounce","useTranslation","Form","Row","Col","Input","Select","Spin","Descriptions","showGlobalNotification","Option","ManageAppModal","getApp","appId","formData","closeModal","refetch","initialValues","setFormData","dataRow","handleSave","t","i18n","selectedApp","setSelectedApp","form","useForm","requestData","setRequestData","loaderForm","setLoaderForm","onSuccess","response","result","onError","message","setFieldsValue","amount","price","total","fullname","userId","firstname","lastname","email","phone","mode","pending","status","console","log","onValuesChange","values","parseFloat","span","marginBottom","name","duration","category","observation","backgroundColor","paddingTop","marginTop","borderRadius","defaultProps","setAppId"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport debounce from \"lodash/debounce\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { Form, Row, Col, Input, Select, Spin, Descriptions } from \"antd\";\nimport showGlobalNotification from \"../../../helpers/showGlobalNotification\";\n\nconst { Option } = Select;\n\nconst ManageAppModal = ({\n  getApp,\n  appId,\n  formData,\n  closeModal,\n  refetch,\n  initialValues,\n  setFormData,\n  dataRow,\n  handleSave,\n}) => {\n  const { t, i18n } = useTranslation();\n  const [selectedApp, setSelectedApp] = useState(initialValues);\n  const [form] = Form.useForm();\n  const [requestData, setRequestData] = useState({});\n  const [loaderForm, setLoaderForm] = useState(false);\n\n  useEffect(() => {\n    if (appId) {\n      setLoaderForm(true);\n      getApp(appId, {\n        onSuccess: (response) => {\n          setSelectedApp(response.result);\n          setLoaderForm(false);\n        },\n        onError: () => showGlobalNotification(\"error\", t(\"errorTitle\"), t(\"errorDescription\")),\n      });\n    } else {\n      setSelectedApp(initialValues);\n    }\n  }, [appId]);\n\n  useEffect(() => {\n    if (requestData.message) {\n      closeModal();\n      showGlobalNotification(\"success\", t(\"inHorabuena\"), t(\"successfulProcess\"));\n      if (!appId) setSelectedApp(initialValues);\n      refetch();\n    }\n  }, [requestData]);\n\n  useEffect(() => {\n    form.setFieldsValue({\n      ...formData,\n      amount: dataRow.price,\n      total: dataRow.price,\n      fullname: `${formData.userId.firstname} ${formData.userId.lastname}`,\n      email: `${formData.userId.email}`,\n      phone: `${formData.userId.phone}`,\n      mode: \"Efectivo\",\n      pending: 0,\n      status: \"Por confirmar\",\n    });\n    setFormData({\n      ...formData,\n      amount: dataRow.price,\n      total: dataRow.price,\n      fullname: `${formData.userId.firstname} ${formData.userId.lastname}`,\n      email: `${formData.userId.email}`,\n      phone: `${formData.userId.phone}`,\n      mode: \"Efectivo\",\n      pending: 0,\n      status: \"Por confirmar\",\n    });\n  }, [dataRow]);\n\n  useEffect(() => {\n    form.setFieldsValue(formData);\n  }, [form, selectedApp, formData]);\n\n  useEffect(() => {\n    console.log(formData);\n  }, [formData]);\n\n  const onValuesChange = debounce((values) => {\n    console.log(values);\n    if (values?.amount) {\n      if (parseFloat(values.amount) <= parseFloat(formData.total)) {\n        setFormData({ ...formData, ...values, pending: formData.total - values.amount });\n      } else {\n        setFormData({ ...formData, ...values, amount: formData.amount });\n      }\n    } else {\n      setFormData({ ...formData, ...values });\n    }\n  }, 500);\n\n  return (\n    <Form\n      form={form}\n      name=\"manage-category-form-modal\"\n      initialValues={initialValues}\n      className=\"manage-modal\"\n      labelCol={{ span: 24 }}\n      onValuesChange={onValuesChange}\n    >\n      <div className=\"layout-form-modal entity-400 entity-small\">\n        {loaderForm ? (\n          <>\n            <Spin tip={t(\"loading\")} />\n          </>\n        ) : (\n          <>\n            <Descriptions size=\"small\" column={2} style={{ marginBottom: 20 }}>\n              <Descriptions.Item label={t(\"name\")}>{dataRow.name}</Descriptions.Item>\n              <Descriptions.Item label={t(\"duration\")}>{dataRow.duration}</Descriptions.Item>\n              <Descriptions.Item label={t(\"category\")}>{dataRow.category}</Descriptions.Item>\n              <Descriptions.Item label={t(\"price\")}>{dataRow.price}</Descriptions.Item>\n            </Descriptions>\n            <Row gutter={15}>\n              <Col span={18}>\n                <Form.Item name=\"observation\" label={t(\"observations\")}>\n                  <Input value={selectedApp?.observation} />\n                </Form.Item>\n              </Col>\n              <Col span={6}>\n                <Form.Item name=\"status\" label={t(\"status\")}>\n                  <Select className=\"select-form-modal\">\n                    <Option value=\"Por confirmar\">Por confirmar</Option>\n                    <Option value=\"Confirmado\">Confirmado</Option>\n                    <Option value=\"Anulado\">Anulado</Option>\n                  </Select>\n                </Form.Item>\n              </Col>\n            </Row>\n            <Row gutter={15}>\n              <Col span={7}>\n                <Form.Item name=\"mode\" label={t(\"mode\")}>\n                  <Select className=\"select-form-modal\">\n                    <Option value=\"Transferencia\">Transferencia</Option>\n                    <Option value=\"efectivo\">Efectivo</Option>\n                    <Option value=\"Debito\">Debito</Option>\n                    <Option value=\"Credito\">Credito</Option>\n                    <Option value=\"Otro\">Otro</Option>\n                  </Select>\n                </Form.Item>\n              </Col>\n              <Col span={6}>\n                <Form.Item name=\"reference\" label={t(\"reference\")}>\n                  <Input />\n                </Form.Item>\n              </Col>\n              <Col span={11}>\n                <Form.Item name=\"description\" label={t(\"description\")}>\n                  <Input />\n                </Form.Item>\n              </Col>\n            </Row>\n            <Row gutter={16}>\n              <Col span={8}>\n                <Form.Item name=\"fullname\" label={t(\"fullname\")}>\n                  <Input />\n                </Form.Item>\n              </Col>\n              <Col span={8}>\n                <Form.Item name=\"email\" label={t(\"email\")}>\n                  <Input />\n                </Form.Item>\n              </Col>\n              <Col span={8}>\n                <Form.Item name=\"phone\" label={t(\"phone\")}>\n                  <Input />\n                </Form.Item>\n              </Col>\n            </Row>\n            <Row gutter={16} style={{ backgroundColor: \"#FFE79F\", paddingTop: 10, marginTop: 10, borderRadius: 5 }}>\n              <Col span={8}>\n                <Form.Item label={t(\"amountToPay\")} name=\"amount\">\n                  <Input />\n                </Form.Item>\n              </Col>\n              <Col span={8}>\n                <Form.Item label={t(\"isPending\")} name=\"pending\">\n                  <Input disabled />\n                </Form.Item>\n              </Col>\n              <Col span={8}>\n                <Form.Item label={t(\"totalToPay\")} name=\"total\">\n                  <Input disabled />\n                </Form.Item>\n              </Col>\n            </Row>\n          </>\n        )}\n      </div>\n    </Form>\n  );\n};\n\nManageAppModal.defaultProps = {\n  setAppId: () => {},\n};\n\nexport default ManageAppModal;\n"]},"metadata":{},"sourceType":"module"}